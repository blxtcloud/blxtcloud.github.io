document.addEventListener("DOMContentLoaded",(function(){fetch("https://v1.hitokoto.cn").then((e=>e.json())).then((e=>{document.getElementById("hitokoto").innerText=e.hitokoto})).catch((e=>{console.error("Error fetching hitokoto:",e),document.getElementById("hitokoto").innerText="加载失败，请稍后再试。"}))})),document.addEventListener("DOMContentLoaded",(function(){fetch("https://v1.jinrishici.com/all.json").then((e=>e.json())).then((e=>{document.getElementById("poem").innerText=e.content})).catch((e=>{console.error("Error fetching poem:",e),document.getElementById("poem").innerText="加载失败，请稍后再试。"}))}));var myChart=echarts.init(document.getElementById("pieChart")),option={title:{text:"文章分类统计",left:"center"},tooltip:{trigger:"item"},series:[{name:"文章数",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};window.innerWidth<=1024?window.addEventListener("resize",(function(){myChart.resize()})):myChart.resize({width:"430px",height:"380px"}),myChart.on("click",(function(e){window.open(weburl+"/categories/"+encodeURIComponent(e.name))})),option.series[0].data=categories,myChart.setOption(option);var lineChart=echarts.init(document.getElementById("lineChart")),lineOption={title:{text:"文章发布统计",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{name:"文章数",data:[],type:"bar",label:{show:!0,position:"top"},itemStyle:{color:function(e){return["#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"][e.dataIndex]}}}]};window.innerWidth<=1024?window.addEventListener("resize",(function(){lineChart.resize()})):lineChart.resize({width:"400px",height:"340px"}),lineChart.on("click","series",(function(e){window.open(weburl+"/archives/"+encodeURIComponent(e.name))})),lineOption.xAxis.data=posts.map((e=>e.year)),lineOption.series[0].data=posts.map((e=>e.count)),lineChart.setOption(lineOption);