<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>大型分布式网站架构总结 | 避凉闲庭</title><meta name="author" content="避凉闲庭,blxtcloud@163.com"><meta name="copyright" content="避凉闲庭"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文主要介绍大型分布式网站架构,架构类型、种类、设计"><meta property="og:type" content="article"><meta property="og:title" content="大型分布式网站架构总结"><meta property="og:url" content="https://blxtcloud.github.io/2024/12/28/2024122805/index.html"><meta property="og:site_name" content="避凉闲庭"><meta property="og:description" content="本文主要介绍大型分布式网站架构,架构类型、种类、设计"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://jihulab.com/blxt/images/-/raw/main/ico/head.jpg"><meta property="article:published_time" content="2024-12-28T14:01:47.000Z"><meta property="article:modified_time" content="2025-02-15T07:42:59.956Z"><meta property="article:author" content="避凉闲庭"><meta property="article:tag" content="云计算"><meta property="article:tag" content="随笔"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://jihulab.com/blxt/images/-/raw/main/ico/head.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "大型分布式网站架构总结",
  "url": "https://blxtcloud.github.io/2024/12/28/2024122805/",
  "image": "https://jihulab.com/blxt/images/-/raw/main/ico/head.jpg",
  "datePublished": "2024-12-28T14:01:47.000Z",
  "dateModified": "2025-02-15T07:42:59.956Z",
  "author": [
    {
      "@type": "Person",
      "name": "避凉闲庭",
      "url": "https://blxtcloud.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="https://jihulab.com/blxt/images/-/raw/main/ico/favicon.ico"><link rel="canonical" href="https://blxtcloud.github.io/2024/12/28/2024122805/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="keywords" content="python,linux,云计算,人工智能,大数据,安全,数据库,代码,开源,工具,娱乐,网络,blog,AI,博客,避凉闲庭,blxt,KH_FC"><meta name="referrer" content="no-referrer"><meta name="msvalidate.01" content="3888D226EFE605BA332B8FE73C5D750C"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise(((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach((([e,t])=>n.setAttribute(e,t))),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),getCSS:(e,t)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:150,languages:{author:"作者: 避凉闲庭",link:"链接: ",source:"来源: 避凉闲庭",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"大型分布式网站架构总结",isHighlightShrink:!1,isToc:!0,pageType:"post"},imgurl="https://gitlab.com/blxtcloud1/blxtcloud-images/-/raw/master/"</script><link rel="stylesheet" href="/css/external.css"><link rel="stylesheet" href="/css/denglong.css"><link rel="stylesheet" href="/css/menu.css"><script src="/js/marked.min.js"></script><script src="/js/chat-model.js"></script><link rel="stylesheet" href="/css/chat-model.css"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="避凉闲庭" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://jihulab.com/blxt/images/-/raw/main/ico/head.jpg" onerror='this.onerror=null,this.src="https://jihulab.com/blxt/images/-/raw/main/ico/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">48</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa-solid fa-house-chimney"></i> <span>首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-graduation-cap"></i> <span>学习</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/python/"><i class="fa-fw fa-brands fa-python"></i> <span>python</span></a></li><li><a class="site-page child" href="/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/"><i class="fa-fw fa-solid fa-cloud"></i> <span>云计算</span></a></li><li><a class="site-page child" href="/categories/php/"><i class="fa-fw fa-brands fa-php"></i> <span>php</span></a></li><li><a class="site-page child" href="/categories/%E5%AE%89%E5%85%A8/"><i class="fa-fw fa-solid fa-user-secret"></i> <span>安全</span></a></li><li><a class="site-page child" href="/categories/linux/"><i class="fa-fw fa-brands fa-linux"></i> <span>linux</span></a></li><li><a class="site-page child" href="/categories/%E5%B0%8F%E8%AE%B0/"><i class="fa-fw fa-solid fa-pen"></i> <span>小记</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/downloads/"><i class="fa-fw fa-solid fa-cloud-arrow-down"></i> <span>资源下载</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-address-card"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fa-solid fa-message"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-link"></i> <span>推荐链接</span></a></div></div></div></div><div class="post" id="body-wrap"><script>var modelapi="https://api.siliconflow.cn/v1/chat/completions",modelkey="Bearer sk-uwgwzdymxurletrpbbzysepayiyxwamtnbbwyapaehypwtpq"</script><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">避凉闲庭</span></a><a class="nav-page-title" href="/"><span class="site-name">大型分布式网站架构总结</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa-solid fa-house-chimney"></i> <span>首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-graduation-cap"></i> <span>学习</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/python/"><i class="fa-fw fa-brands fa-python"></i> <span>python</span></a></li><li><a class="site-page child" href="/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/"><i class="fa-fw fa-solid fa-cloud"></i> <span>云计算</span></a></li><li><a class="site-page child" href="/categories/php/"><i class="fa-fw fa-brands fa-php"></i> <span>php</span></a></li><li><a class="site-page child" href="/categories/%E5%AE%89%E5%85%A8/"><i class="fa-fw fa-solid fa-user-secret"></i> <span>安全</span></a></li><li><a class="site-page child" href="/categories/linux/"><i class="fa-fw fa-brands fa-linux"></i> <span>linux</span></a></li><li><a class="site-page child" href="/categories/%E5%B0%8F%E8%AE%B0/"><i class="fa-fw fa-solid fa-pen"></i> <span>小记</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/downloads/"><i class="fa-fw fa-solid fa-cloud-arrow-down"></i> <span>资源下载</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-address-card"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fa-solid fa-message"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-link"></i> <span>推荐链接</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></span></div></div></nav></header><div id="chat-button"><div class="chat-button-svg"><i class="fa-brands fa-airbnb fa-2xl"></i></div><div class="chat-button-text">智能助手</div></div><div id="chat-box1"><div class="chat-header">智能 助手<button>结束本次会话</button></div><div class="chat-body"><div class="chat-box" id="chat-box"></div></div><div class="chat-footer"><input type="text" id="user-input" placeholder="输入你的问题..."><select id="chat-model-name" style="display:none"><option value="Qwen/Qwen2.5-7B-Instruct"></option></select><button onclick="sendMessage()">提交</button></div></div><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">大型分布式网站架构总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-28T14:01:47.000Z" title="发表于 2024-12-28 22:01:47">2024-12-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-15T07:42:59.956Z" title="更新于 2025-02-15 15:42:59">2025-02-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">7.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>22分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><p>本文是学习大型分布式网站架构的技术总结。对架构一个高性能、高可用、可伸缩及可扩展的分布式网站进行了概要性描述，并给出一个架构参考。文中一部分为读书笔记，一部分是个人经验总结，对大型分布式网站架构有较好的参考价值。<span id="more"></span></p><h3 id="一、大型分布式网站架构技术"><a href="#一、大型分布式网站架构技术" class="headerlink" title="一、大型分布式网站架构技术"></a>一、大型分布式网站架构技术</h3><p><strong>1、大型网站的特点</strong></p><ul><li>用户多，分布广泛</li><li>大流量，高并发</li><li>海量数据，服务高可用</li><li>安全环境恶劣，易受网络攻击</li><li>功能多，变更快，频繁发布</li><li>从小到大，渐进发展</li><li>以用户为中心</li><li>免费服务，付费体验</li></ul><p><strong>2、大型网站架构目标</strong></p><ul><li>高性能：提供快速的访问体验。</li><li>高可用：网站服务一直可以正常访问。</li><li>可伸缩：通过硬件增加&#x2F;减少，提高&#x2F;降低处理能力。</li><li>安全性：提供网站安全访问和数据加密、安全存储等策略。</li><li>扩展性：方便地通过新增&#x2F;移除方式，增加&#x2F;减少新的功能&#x2F;模块。</li><li>敏捷性：随需应变，快速响应；<br></li></ul><script>document.write('<img src="'+imgurl+'1735394507/f6b00fb5ee9a9db7fd0ce78379456fb3.png">')</script><br><p><strong>3、大型网站架构模式</strong><br></p><script>document.write('<img src="'+imgurl+'1735394507/3d7bf6e5f86a3309d36fc6b276634f03.png">')</script><br><p>+——————————————————————————————————————————</p><ul><li>分层：一般可分为应用层、服务层、数据层、管理层与分析层；</li><li>分割：一般按照业务&#x2F;模块&#x2F;功能特点进行划分，比如应用层分为首页、用户中心。</li><li>分布式：将应用分开部署（比如多台物理机），通过远程调用协同工作。</li><li>集群：一个应用&#x2F;模块&#x2F;功能部署多份（如：多台物理机），通过负载均衡共同提供对外访问。</li><li>缓存：将数据放在距离应用或用户最近的位置，加快访问速度。</li><li>异步：将同步的操作异步化。客户端发出请求，不等待服务端响应，等服务端处理完毕后，使用通知或轮询的方式告知请求方。一般指：请求——响应——通知模式。</li><li>冗余：增加副本，提高可用性、安全性与性能。</li><li>安全：对已知问题有有效的解决方案，对未知&#x2F;潜在问题建立发现和防御机制。</li><li>自动化：将重复的、不需要人工参与的事情，通过工具的方式，使用机器完成。</li><li>敏捷性：积极接受需求变更，快速响应业务发展需求。</li></ul><p><strong>4、高性能架构</strong></p><p>以用户为中心，提供快速的网页访问体验。主要参数有较短的响应时间、较大的并发处理能力、较高的吞吐量与稳定的性能参数。</p><p>可分为前端优化、应用层优化、代码层优化与存储层优化。</p><ul><li>前端优化：网站业务逻辑之前的部分；</li><li>浏览器优化：减少HTTP请求数，使用浏览器缓存，启用压缩，CSS JS位置，JS异步，减少Cookie传输；CDN加速，反向代理；</li><li>应用层优化：处理网站业务的服务器。使用缓存，异步，集群</li><li>代码优化：合理的架构，多线程，资源复用（对象池，线程池等），良好的数据结构，JVM调优，单例，Cache等；</li><li>存储优化：缓存、固态硬盘、光纤传输、优化读写、磁盘冗余、分布式存储（HDFS）、NoSQL等。</li></ul><p><strong>5、高可用架构</strong></p><p>大型网站应该在任何时候都可以正常访问，正常提供对外服务。因为大型网站的复杂性，分布式，廉价服务器，开源数据库，操作系统等特点，要保证高可用是很困难的，也就是说网站的故障是不可避免的。</p><p>如何提高可用性，就是需要迫切解决的问题。首先，需要从架构级别考虑，在规划的时候，就考虑可用性。行业内一般用几个9表示可用性指标，比如四个9（99.99），一年内允许的不可用时间是53分钟。</p><p>不同层级使用的策略不同，一般采用冗余备份和失效转移解决高可用问题。</p><ul><li>应用层：一般设计为无状态的，对于每次请求，使用哪一台服务器处理是没有影响的。一般使用负载均衡技术（需要解决Session同步问题）实现高可用。</li><li>服务层：负载均衡，分级管理，快速失败（超时设置），异步调用，服务降级，幂等设计等。</li><li>数据层：冗余备份（冷，热备[同步，异步]，温备），失效转移（确认，转移，恢复）。数据高可用方面著名的理论基础是CAP理论（持久性，可用性，数据一致性[强一致，用户一致，最终一致]）</li></ul><p><strong>6、可伸缩架构</strong></p><p>伸缩性是指在不改变原有架构设计的基础上，通过添加&#x2F;减少硬件（服务器）的方式，提高&#x2F;降低系统的处理能力。</p><ul><li>应用层：对应用进行垂直或水平切分。然后针对单一功能进行负载均衡（DNS、HTTP[反向代理]、IP、链路层）。</li><li>服务层：与应用层类似；</li><li>数据层：分库、分表、NoSQL等；常用算法Hash，一致性Hash。</li></ul><p><strong>7、可扩展架构</strong></p><p>可以方便地进行功能模块的新增&#x2F;移除，提供代码&#x2F;模块级别良好的可扩展性。</p><ul><li>模块化，组件化：高内聚，低耦合，提高复用性，扩展性。</li><li>稳定接口：定义稳定的接口，在接口不变的情况下，内部结构可以“随意”变化。</li><li>设计模式：应用面向对象思想，原则，使用设计模式，进行代码层面的设计。</li><li>消息队列：模块化的系统，通过消息队列进行交互，使模块之间的依赖解耦。</li><li>分布式服务：公用模块服务化，提供其他系统使用，提高可重用性，扩展性。</li></ul><p><strong>8、安全架构</strong></p><p>对已知问题有有效的解决方案，对未知&#x2F;潜在问题建立发现和防御机制。对于安全问题，首先要提高安全意识，建立一个安全的有效机制，从政策层面，组织层面进行保障，比如服务器密码不能泄露，密码每月更新，并且三次内不能重复；每周安全扫描等。以制度化的方式，加强安全体系的建设。同时，需要注意与安全有关的各个环节。安全问题不容忽视，包括基础设施安全，应用系统安全，数据保密安全等。</p><ul><li>基础设施安全：硬件采购，操作系统，网络环境方面的安全。一般采用正规渠道购买高质量的产品，选择安全的操作系统，及时修补漏洞，安装杀毒软件防火墙。防范病毒，后门。设置防火墙策略，建立DDOS防御系统，使用攻击检测系统，进行子网隔离等手段。</li><li>应用系统安全：在程序开发时，对已知常用问题，使用正确的方式，在代码层面解决掉。防止跨站脚本攻击（XSS），注入攻击，跨站请求伪造（CSRF），错误信息，HTML注释，文件上传，路径遍历等。还可以使用Web应用防火墙（比如：ModSecurity），进行安全漏洞扫描等措施，加强应用级别的安全。</li><li>数据保密安全：存储安全（存储在可靠的设备，实时，定时备份），保存安全（重要的信息加密保存，选择合适的人员复杂保存和检测等），传输安全（防止数据窃取和数据篡改）；</li></ul><p>常用的加解密算法（单项散列加密[MD5、SHA]，对称加密[DES、3DES、RC]），非对称加密[RSA]等。</p><p><strong>9、敏捷性</strong></p><p>网站的架构设计，运维管理要适应变化，提供高伸缩性，高扩展性。方便的应对快速的业务发展，突增高流量访问等要求。</p><p>除上面介绍的架构要素外，还需要引入敏捷管理，敏捷开发的思想。使业务，产品，技术，运维统一起来，随需应变，快速响应。</p><p><strong>10、大型架构举例</strong></p><script>document.write('<img src="'+imgurl+'1735394507/6a26512f1ad714427355be3ce3f35250.png">')</script><br><p>以上采用七层逻辑架构，第一层客户层，第二层前端优化层，第三层应用层，第四层服务层，第五层数据存储层，第六层大数据存储层，第七层大数据处理层。</p><ul><li>客户层：支持PC浏览器和手机APP。差别是手机APP可以直接通过IP访问，反向代理服务器。</li><li>前端层：使用DNS负载均衡，CDN本地加速以及反向代理服务；</li><li>应用层：网站应用集群；按照业务进行垂直拆分，比如商品应用，会员中心等；</li><li>服务层：提供公用服务，比如用户服务，订单服务，支付服务等；</li><li>数据层：支持关系型数据库集群（支持读写分离），NOSQL集群，分布式文件系统集群；以及分布式Cache；</li><li>大数据存储层：支持应用层和服务层的日志数据收集，关系数据库和NOSQL数据库的结构化和半结构化数据收集；</li><li>大数据处理层：通过Mapreduce进行离线数据分析或Storm实时数据分析，并将处理后的数据存入关系型数据库。（实际使用中，离线数据和实时数据会按照业务要求进行分类处理，并存入不同的数据库中，供应用层或服务层使用）。</li></ul><h3 id="二、大型电商网站系统架构演变过程"><a href="#二、大型电商网站系统架构演变过程" class="headerlink" title="二、大型电商网站系统架构演变过程"></a>二、大型电商网站系统架构演变过程</h3><p>一个成熟的大型网站（如淘宝、天猫、腾讯等）的系统架构并不是一开始设计时就具备完整的高性能、高可用、高伸缩等特性的，它是随着用户量的增加，业务功能的扩展逐渐演变完善的，在这个过程中，开发模式、技术架构、设计思想也发生了很大的变化，就连技术人员也从几个人发展到一个部门甚至一条产品线。</p><p>所以成熟的系统架构是随着业务的扩展而逐步完善的，并不是一蹴而就；不同业务特征的系统，会有各自的侧重点，例如淘宝，要解决海量的商品信息的搜索、下单、支付；例如腾讯，要解决数亿用户的实时消息传输；百度它要处理海量的搜索请求。</p><p>他们都有各自的业务特性，系统架构也有所不同。尽管如此我们也可以从这些不同的网站背景中，找出其中共用的技术，这些技术和手段广泛运用在大型网站系统的架构中，下面就通过介绍大型网站系统的演化过程，来认识这些技术和手段。</p><p><strong>1、最开始的网站架构</strong></p><p>最初的架构，应用程序、数据库、文件都部署在一台服务器上，如图：</p><script>document.write('<img src="'+imgurl+'1735394507/83046b702265116a69e47ee5e8ddb31e.png">')</script><br><p><strong>2、应用、数据、文件分离</strong></p><p>随着业务的扩展，一台服务器已经不能满足性能需求，故将应用程序、数据库、文件各自部署在独立的服务器上，并且根据服务器的用途配置不同的硬件，达到最佳的性能效果。</p><script>document.write('<img src="'+imgurl+'1735394507/f9f9eed1fbd7b904a17ddec3d0b6215b.png">')</script><br><p><strong>3、利用缓存改善网站性能</strong><br>在硬件优化性能的同时，同时也通过软件进行性能优化，在大部分的网站系统中，都会利用缓存技术改善系统的性能，使用缓存主要源于热点数据的存在，大部分网站访问都遵循28原则（即80%的访问请求，最终落在20%的数据上），所以我们可以对热点数据进行缓存，减少这些数据的访问路径，提高用户体验。</p><script>document.write('<img src="'+imgurl+'1735394507/aff4fcb3dd591e8550bd37b146678817.png">')</script><br><p>缓存实现常见的方式是本地缓存、分布式缓存。当然还有CDN、反向代理等，这个后面再讲。本地缓存，顾名思义是将数据缓存在应用服务器本地，可以存在内存中，也可以存在文件，OSCache就是常用的本地缓存组件。本地缓存的特点是速度快，但因为本地空间有限所以缓存数据量也有限。分布式缓存的特点是，可以缓存海量的数据，并且扩展非常容易，在门户类网站中常常被使用，速度按理没有本地缓存快，常用的分布式缓存是Memcached、Redis。</p><p><strong>4、使用集群改善应用服务器性能</strong></p><p>应用服务器作为网站的入口，会承担大量的请求，我们往往通过应用服务器集群来分担请求数。应用服务器前面部署负载均衡服务器调度用户请求，根据分发策略将请求分发到多个应用服务器节点。</p><script>document.write('<img src="'+imgurl+'1735394507/6b4063e64c8c1176fa7683e7102a9371.png">')</script><br><p>常用的负载均衡技术硬件的有F5，价格比较贵，软件的有LVS、Nginx、HAProxy。LVS是四层负载均衡，根据目标地址和端口选择内部服务器，Nginx和HAProxy是七层负载均衡，可以根据报文内容选择内部服务器，因此LVS分发路径优于Nginx和HAProxy，性能要高些，而Nginx和HAProxy则更具配置性，如可以用来做动静分离（根据请求报文特征，选择静态资源服务器还是应用服务器）。</p><p><strong>5、数据库读写分离和分库分表</strong></p><p>随着用户量的增加，数据库成为最大的瓶颈，改善数据库性能常用的手段是进行读写分离以及分库分表，读写分离顾名思义就是将数据库分为读库和写库，通过主备功能实现数据同步。分库分表则分为水平切分和垂直切分，水平切分则是对一个数据库特大的表进行拆分，例如用户表。垂直切分则是根据业务的不同来切分，如用户业务、商品业务相关的表放在不同的数据库中。</p><script>document.write('<img src="'+imgurl+'1735394507/902030c9da4b2cdae94c88b3e7e5016c.png">')</script><br><p><strong>6、使用CDN和反向代理提高网站性能</strong></p><p>假如我们的服务器都部署在成都的机房，对于四川的用户来说访问是较快的，而对于北京的用户访问是较慢的，这是由于四川和北京分别属于电信和联通的不同发达地区，北京用户访问需要通过互联路由器经过较长的路径才能访问到成都的服务器，返回路径也一样，所以数据传输时间比较长。对于这种情况，常常使用CDN解决，CDN将数据内容缓存到运营商的机房，用户访问时先从最近的运营商获取数据，这样大大减少了网络访问的路径。比较专业的CDN运营商有蓝汛、网宿。</p><p>而反向代理，则是部署在网站的机房，当用户请求达到时首先访问反向代理服务器，反向代理服务器将缓存的数据返回给用户，如果没有缓存数据才会继续访问应用服务器获取，这样做减少了获取数据的成本。反向代理有Squid、Nginx。</p><script>document.write('<img src="'+imgurl+'1735394507/0e9f20ae18c23accf62bc9f97ef44553.png">')</script><br><p><strong>7、使用分布式文件系统</strong></p><p>用户一天天增加，业务量越来越大，产生的文件越来越多，单台的文件服务器已经不能满足需求，这时就需要分布式文件系统的支撑。常用的分布式文件系统有GFS、HDFS、TFS。</p><script>document.write('<img src="'+imgurl+'1735394507/bfab86e13c8e974483d9d70b93067be0.png">')</script><br><p><strong>8、使用NoSQL和搜索引擎</strong></p><p>对于海量数据的查询和分析，我们使用NoSQL数据库加上搜索引擎可以达到更好的性能。并不是所有的数据都要放在关系型数据中。常用的NoSQL有MongoDB、HBase、Redis，搜索引擎有Lucene、Solr、Elasticsearch。</p><script>document.write('<img src="'+imgurl+'1735394507/77e0a00344908651684698d50d1be82c.png">')</script><br><p><strong>9、将应用服务器进行业务拆分</strong></p><p>随着业务进一步扩展，应用程序变得非常臃肿，这时我们需要将应用程序进行业务拆分，如百度分为新闻、网页、图片等业务。每个业务应用负责相对独立的业务运作。业务之间通过消息进行通信或者共享数据库来实现。</p><script>document.write('<img src="'+imgurl+'1735394507/eb8fc5b296664ab84a801cb8ad5d610f.png">')</script><br><p><strong>10、搭建分布式服务</strong></p><p>这时我们发现各个业务应用都会使用到一些基本的业务服务，例如用户服务、订单服务、支付服务、安全服务，这些服务是支撑各业务应用的基本要素。我们将这些服务抽取出来利用分布式服务框架搭建分布式服务。阿里的Dubbo是一个不错的选择。</p><script>document.write('<img src="'+imgurl+'1735394507/88dd0886cca0e15b9621afdc3f8c9f9f.png">')</script><br><h3 id="三、一张图说明电商架构"><a href="#三、一张图说明电商架构" class="headerlink" title="三、一张图说明电商架构"></a>三、一张图说明电商架构</h3><script>document.write('<img src="'+imgurl+'1735394507/b61a92d5497932ff44c257c6c551317f.png">')</script><br><h3 id="四、大型电商网站架构案例"><a href="#四、大型电商网站架构案例" class="headerlink" title="四、大型电商网站架构案例"></a>四、大型电商网站架构案例</h3><p><strong>1、电商案例的原因</strong></p><p>分布式大型网站，目前看主要有几类：</p><ul><li>大型门户，比如网易，新浪等；</li><li>SNS网站，比如校内，开心网等；</li><li>电商网站，比如阿里巴巴，京东商城，国美在线，汽车之家等。</li></ul><p>大型门户一般是新闻类信息，可以使用CDN，静态化等方式优化，开心网等交互性比较多，可能会引入更多的NoSQL，分布式缓存，使用高性能的通信框架等。电商网站具备以上两类的特点，比如产品详情可以采用CDN，静态化，交互性高的需要采用NoSQL等技术。因此，我们采用电商网站作为案例，进行分析。</p><p><strong>2、电商网站需求</strong></p><p>客户需求：</p><ul><li>建立一个全品类的电子商务网站（B2C），用户可以在线购买商品，可以在线支付，也可以货到付款；</li><li>用户购买时可以在线与客服沟通；</li><li>用户收到商品后，可以给商品打分，评价；</li><li>目前有成熟的进销存系统；需要与网站对接；</li><li>希望能够支持3~5年，业务的发展；</li><li>预计3~5年用户数达到1000万；</li><li>定期举办双11、双12、三八男人节等活动；</li><li>其他的功能参考京东或国美在线等网站。</li></ul><p>客户就是客户，不会告诉你具体要什么，只会告诉你他想要什么，我们很多时候要引导，挖掘客户的需求。好在提供了明确的参考网站。因此，下一步要进行大量的分析，结合行业，以及参考网站，给客户提供方案。</p><p><strong>需求功能矩阵</strong></p><p>需求管理传统的做法，会使用用例图或模块图（需求列表）进行需求的描述。这样做常常忽视掉一个很重要的需求（非功能需求），因此推荐大家使用需求功能矩阵，进行需求描述。</p><p>本电商网站的需求矩阵如下：</p><script>document.write('<img src="'+imgurl+'1735394507/9a87fcbf1e71abb65cf8232b938bf2b3.png">')</script><br><p><strong>3、网站初级架构</strong></p><p>一般网站，刚开始的做法，是三台服务器，一台部署应用，一台部署数据库，一台部署NFS文件系统。</p><p>这是前几年比较传统的做法，之前见到一个网站10万多会员，垂直服装设计门户，N多图片。使用了一台服务器部署了应用，数据库以及图片存储。出现了很多性能问题。</p><p>如下图：</p><script>document.write('<img src="'+imgurl+'1735394507/d1e2c70898988b198b21ebcfb9de6b2c.png">')</script><br><p>但是，目前主流的网站架构已经发生了翻天覆地的变化。一般都会采用集群的方式，进行高可用设计。至少是下面这个样子：</p><script>document.write('<img src="'+imgurl+'1735394507/0cbb7cf3918fff6c51d247cd355fdc23.png">')</script><br><ul><li>使用集群对应用服务器进行冗余，实现高可用；（负载均衡设备可与应用一块部署）</li><li>使用数据库主备模式，实现数据备份和高可用；</li></ul><p><strong>4、系统容量预估</strong><br>预估步骤：</p><ul><li>注册用户数-日均UV量-每日的PV量-每天的并发量；</li><li>峰值预估：平常量的2~3倍；</li><li>根据并发量（并发，事务数），存储容量计算系统容量。</li></ul><p>根据客户需求：3~5年用户数达到1000万注册用户，可以做每秒并发数预估：</p><ul><li>每天的UV为200万（二八原则）；</li><li>每日每天点击浏览30次；</li><li>PV量：200*30&#x3D;6000万；</li><li>集中访问量：24<em>0.2&#x3D;4.8小时会有6000万</em>0.8&#x3D;4800万（二八原则）；</li><li>每分并发量：4.8*60&#x3D;288分钟，每分钟访问4800&#x2F;288&#x3D;16.7万（约等于）；</li><li>每秒并发量：16.7万&#x2F;60&#x3D;2780（约等于）；</li><li>假设：高峰期为平常值的三倍，则每秒的并发数可以达到8340次。</li><li>1毫秒&#x3D;1.3次访问；</li></ul><p>没好好学数学后悔了吧？！（不知道以上算是否有错误，呵呵~~）</p><p>服务器预估：（以tomcat服务器举例）</p><p>按一台web服务器，支持每秒300个并发计算。平常需要10台服务器（约等于）；[tomcat默认配置是150]，高峰期需要30台服务器；</p><p>容量预估：70&#x2F;90原则</p><p>系统CPU一般维持在70%左右的水平，高峰期达到90%的水平，是不浪费资源，并比较稳定的。内存，IO类似。</p><p>以上预估仅供参考，因为服务器配置，业务逻辑复杂度等都有影响。在此CPU，硬盘，网络等不再进行评估。</p><p><strong>5、网站架构分析</strong></p><p>根据以上预估，有几个问题：</p><ul><li>需要部署大量的服务器，高峰期计算，可能要部署30台Web服务器。并且这三十台服务器，只有秒杀，活动时才会用到，存在大量的浪费。</li><li>所有的应用部署在同一台服务器，应用之间耦合严重。需要进行垂直切分和水平切分。</li><li>大量应用存在冗余代码</li><li>服务器Session同步耗费大量内存和网络带宽</li><li>数据需要频繁访问数据库，数据库访问压力巨大。</li></ul><p>大型网站一般需要做以下架构优化（优化是架构设计时，就要考虑的，一般从架构&#x2F;代码级别解决，调优主要是简单参数的调整，比如JVM调优；如果调优涉及大量代码改造，就不是调优了，属于重构）：</p><ul><li>业务拆分</li><li>应用集群部署（分布式部署，集群部署和负载均衡）</li><li>多级缓存</li><li>单点登录（分布式Session）</li><li>数据库集群（读写分离，分库分表）</li><li>服务化</li><li>消息队列</li><li>其他技术</li></ul><p><strong>6、网站架构优化</strong></p><p><strong>6.1业务拆分</strong></p><p>根据业务属性进行垂直切分，划分为产品子系统，购物子系统，支付子系统，评论子系统，客服子系统，接口子系统（对接如进销存，短信等外部系统）。</p><p>根据业务子系统进行等级定义，可分为核心系统和非核心系统。核心系统：产品子系统，购物子系统，支付子系统；非核心：评论子系统，客服子系统，接口子系统。</p><ul><li><p>业务拆分作用：提升为子系统可由专门的团队和部门负责，专业的人做专业的事，解决模块之间耦合以及扩展性问题；每个子系统单独部署，避免集中部署导致一个应用挂了，全部应用不可用的问题。</p></li><li><p>等级定义作用：用于流量突发时，对关键应用进行保护，实现优雅降级；保护关键应用不受到影响。<br>拆分后的架构图：</p></li></ul><script>document.write('<img src="'+imgurl+'1735394507/233f1dc2abce04fc0a2fc85a7be7ca9f.png">')</script><br><p>参考部署方案2</p><script>document.write('<img src="'+imgurl+'1735394507/26b30028c0cd37a1a78e903c51d612a7.png">')</script><br><p>如上图每个应用单独部署，核心系统和非核心系统组合部署</p><p><strong>6.2应用集群部署（分布式，集群，负载均衡）</strong></p><ul><li>分布式部署：将业务拆分后的应用单独部署，应用直接通过RPC进行远程通信；</li><li>集群部署：电商网站的高可用要求，每个应用至少部署两台服务器进行集群部署；</li><li>负载均衡：是高可用系统必须的，一般应用通过负载均衡实现高可用，分布式服务通过内置的负载均衡实现高可用，关系型数据库通过主备方式实现高可用。<br>集群部署后架构图：<br></li></ul><script>document.write('<img src="'+imgurl+'1735394507/161df03aea7c4208ce5c061d489f2455.png">')</script><br><p><strong>6.3 多级缓存</strong></p><p>缓存按照存放的位置一般可分为两类本地缓存和分布式缓存。本案例采用二级缓存的方式，进行缓存的设计。一级缓存为本地缓存，二级缓存为分布式缓存。（还有页面缓存，片段缓存等，那是更细粒度的划分）</p><p>一级缓存，缓存数据字典，和常用热点数据等基本不可变&#x2F;有规则变化的信息，二级缓存缓存需要的所有缓存。当一级缓存过期或不可用时，访问二级缓存的数据。如果二级缓存也没有，则访问数据库。</p><p>缓存的比例，一般1:4，即可考虑使用缓存。（理论上是1:2即可）。</p><script>document.write('<img src="'+imgurl+'1735394507/3e50806d47e2b52236a098ba7b706378.png">')</script><br><p>根据业务特性可使用以下缓存过期策略：</p><ul><li>缓存自动过期；</li><li>缓存触发过期；</li></ul><p><strong>6.4单点登录（分布式Session）</strong></p><p>系统分割为多个子系统，独立部署后，不可避免的会遇到会话管理的问题。一般可采用Session同步，Cookies，分布式Session方式。电商网站一般采用分布式Session实现。</p><p>再进一步可以根据分布式Session，建立完善的单点登录或账户管理系统。</p><script>document.write('<img src="'+imgurl+'1735394507/d6570a094b4499b4941326fdc63d8e37.png">')</script><br><p><strong>流程说明</strong></p><ul><li>用户第一次登录时，将会话信息（用户Id和用户信息），比如以用户Id为Key，写入分布式Session；</li><li>用户再次登录时，获取分布式Session，是否有会话信息，如果没有则调到登录页；</li><li>一般采用Cache中间件实现，建议使用Redis，因此它有持久化功能，方便分布式Session宕机后，可以从持久化存储中加载会话信息；</li><li>存入会话时，可以设置会话保持的时间，比如15分钟，超过后自动超时；</li></ul><p>结合Cache中间件，实现的分布式Session，可以很好的模拟Session会话。</p><p><strong>6.5数据库集群（读写分离，分库分表）</strong></p><p>大型网站需要存储海量的数据，为达到海量数据存储，高可用，高性能一般采用冗余的方式进行系统设计。一般有两种方式读写分离和分库分表。</p><p>读写分离：一般解决读比例远大于写比例的场景，可采用一主一备，一主多备或多主多备方式。</p><p>本案例在业务拆分的基础上，结合分库分表和读写分离。如下图：</p><script>document.write('<img src="'+imgurl+'1735394507/40df61ec0b241d9304a72137a8208312.png">')</script><br><ul><li>业务拆分后：每个子系统需要单独的库；</li><li>如果单独的库太大，可以根据业务特性，进行再次分库，比如商品分类库，产品库；</li><li>分库后，如果表中有数据量很大的，则进行分表，一般可以按照Id，时间等进行分表；（高级的用法是一致性Hash）</li><li>在分库、分表的基础上，进行读写分离；</li></ul><p>相关中间件可参考Cobar（阿里，目前已不在维护），TDDL（阿里），Atlas（奇虎360），MyCat。</p><p>分库分表后序列的问题，JOIN，事务的问题，会在分库分表主题分享中，介绍。</p><p><strong>6.6服务化</strong></p><p>将多个子系统公用的功能&#x2F;模块，进行抽取，作为公用服务使用。比如本案例的会员子系统就可以抽取为公用的服务。</p><script>document.write('<img src="'+imgurl+'1735394507/94b93f4085fe4edc6a1cdbec8ac90b2a.png">')</script><br><p><strong>6.7消息队列</strong></p><p>消息队列可以解决子系统&#x2F;模块之间的耦合，实现异步，高可用，高性能的系统。是分布式系统的标准配置。本案例中，消息队列主要应用在购物，配送环节。</p><ul><li>用户下单后，写入消息队列，后直接返回客户端；</li><li>库存子系统：读取消息队列信息，完成减库存；</li><li>配送子系统：读取消息队列信息，进行配送；<br></li></ul><script>document.write('<img src="'+imgurl+'1735394507/893cebc20da76ccd009768d1b6e9af39.png">')</script><br><p>目前使用较多的MQ有Active MQ、Rabbit MQ、Zero MQ、MS MQ等，需要根据具体的业务场景进行选择。建议可以研究下Rabbit MQ。</p><p><strong>6.8其他架构（技术）</strong></p><p>除了以上介绍的业务拆分，应用集群，多级缓存，单点登录，数据库集群，服务化，消息队列外。还有CDN，反向代理，分布式文件系统，大数据处理等系统。</p><p>此处不详细介绍，大家可以问度娘&#x2F;Google，有机会的话也可以分享给大家。</p><p><strong>7、架构汇总</strong></p><script>document.write('<img src="'+imgurl+'1735394507/7dbe0f2c4238c617736b2fd37b2ece4e.png">')</script><br><p>大型网站的架构是根据业务需求不断完善的，根据不同的业务特征会做特定的设计和考虑，本文只是讲述一个常规大型网站会涉及的一些技术和手段，希望能给大家带来启发。</p><div id="post-outdate-notice" data="{&quot;limitDay&quot;:1095,&quot;messagePrev&quot;:&quot;距离上次更新已经过去了&quot;,&quot;messageNext&quot;:&quot;天，文章可能已经过时。&quot;,&quot;postUpdate&quot;:&quot;2025-02-15 15:42:59&quot;}" hidden></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class="post-copyright-info"><a href="https://blxtcloud.github.io">避凉闲庭</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接:</span> <span class="post-copyright-info"><a href="https://blxtcloud.github.io/2024/12/28/2024122805/">https://blxtcloud.github.io/2024/12/28/2024122805/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blxtcloud.github.io" target="_blank">避凉闲庭</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a><a class="post-meta__tags" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a></div><div class="post-share"><div class="social-share" data-image="https://jihulab.com/blxt/images/-/raw/main/ico/head.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/12/28/2024122802/" title="一文快速掌握华为云IPv6基础知识及使用指南"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-28</div><div class="info-item-2">一文快速掌握华为云IPv6基础知识及使用指南</div></div><div class="info-2"><div class="info-item-1">随着5G、物联网等新兴技术领域的发展，IP空间需求巨大，IPv6成为万物互联的基础，势在必行；华为云作为IPv6成熟商用开拓者，针对金融、广电、媒资等不同行业推出IPv6解决方案，助力企业平滑升级到IPv6基础架构。本文带您十分钟了解华为云IPv6。 一、华为云IPv6解决方案：IPv6-EIP和IPv6-双栈 IPv6-EIP 简单来说，IPv6-EIP就是申请一个弹性公网IP（EIP），此EIP既有一个IPv4地址，又有一个IPv6地址。当然也可以将已有的IPv4 EIP开启IPv6转换。开启IPv6转换后，此EIP将提供IPv4和IPv6弹性公网IP地址，原有IPv4业务可以快速为IPv6用户提供访问能力。 document.write('');...</div></div></div></a><a class="pagination-related" href="/2024/12/28/2024122806/" title="全局负载均衡、CDN内容分发的原理与实践"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-28</div><div class="info-item-2">全局负载均衡、CDN内容分发的原理与实践</div></div><div class="info-2"><div class="info-item-1">CDN简介CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。 CDN的关键技术主要有内容存储和分发技术。简而言之，就是将数据部署在各地的服务器中，通过负载均衡技术，让用户就近获取服务器中的数据。 CDN...</div></div></div></a><a class="pagination-related" href="/2024/12/26/2024122603/" title="记一次云主机如何挂载对象存储"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-26</div><div class="info-item-2">记一次云主机如何挂载对象存储</div></div><div class="info-2"><div class="info-item-1">前言随着云计算的发展，公有云成为中小型企业建设业务系统的首选，而对象存储则是存储里面必不可少的存储产品，对象存储不仅可以提供海量、高可靠、安全的服务，而且价格相对普通存储来说会便宜很多，并且不受带宽的限制，仅限于本地下载和上传的网速，对象存储应用场景更适用于静态网站托管、多媒体存储、数据备份等等应用场景；对象存储使用相对来说是比较简单的我这里就不重点说了； 为什么会有云主机挂载对象存储的需求呢？这个还要来源于业务系统的要求，正常来说对象存储基本上都提供S3的一个接口提供上传下载，更是各大云厂商都提供S3的工具，华为云的OBS Browser+以及移动云的S3...</div></div></div></a><a class="pagination-related" href="/2024/12/28/2024122808/" title="干活总结 | SQL 语法速成手册"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-28</div><div class="info-item-2">干活总结 | SQL 语法速成手册</div></div><div class="info-2"><div class="info-item-1">本文针对关系型数据库的一般语法。限于篇幅，本文侧重说明用法，不会展开讲解特性、原理。本文内容包括基本概念、增删改查、子查询、连接和组合、函数、排序和分组、数据定义、事务处理、权限管理等等。 一、基本概念数据库术语 数据库（database）：保存有组织的数据的容器（通常是一个文件或一组文件）。 数据表（table） ：某种特定类型数据的结构化清单。 模式（schema）：关于数据库和表的布局及特性的信息。模式定义了数据在表中如何存储，包含存储什么样的数据，数据如何分解，各部分信息如何命名等信息。数据库和表都有模式。 列（column）：表中的一个字段。所有表都是由一个或多个列组成的。 行（row）：表中的一个记录。 主键（primary key）：一列（或一组列），其值能够唯一标识表中每一行。SQL 语法1SQL（Structured Query Language)，标准 SQL 由 ANSI 标准委员会管理，从而称为 ANSI SQL。各个 DBMS 都有自己的实现，如 PL/SQL、Transact-SQL 等。 SQL 语法结构 ...</div></div></div></a><a class="pagination-related" href="/2024/12/28/2024122803/" title="（超全）Python汇总篇，200+Python标准库介绍"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-28</div><div class="info-item-2">（超全）Python汇总篇，200+Python标准库介绍</div></div><div class="info-2"><div class="info-item-1">关于Python标准库众所周知，Python是一个依赖强大的组件库完成对应功能的语言，为了便捷实现各项功能，前辈大牛们打造了多种多样的工具库公开提供给大众使用，而越来越多的库已经因为使用的广泛和普遍及其功能的强大，已经成为Python的标准库。 时至今日，Python 标准库已经非常庞大，所提供的组件涉及范围十分广泛，正如本文后面的内容中所显示的。这个库包含了多个内置模块 (以 C 编写)，Python 程序员必须依靠它们来实现系统级功能，例如文件 I&#x2F;O，此外还有大量以 Python 编写的模块，提供了日常编程中许多问题的标准解决方案。其中有些模块经过专门设计，通过将特定平台功能抽象化为平台中立的 API 来鼓励和加强 Python 程序的可移植性。 Windows 版本的 Python 安装程序通常包含整个标准库，往往还包含许多额外组件。对于类 Unix 操作系统，Python 通常会分成一系列的软件包，因此可能需要使用操作系统所提供的包管理工具来获取部分或全部可选组件。 在这个标准库以外还存在成千上万并且不断增加的其他组件...</div></div></div></a><a class="pagination-related" href="/2024/12/26/2024122606/" title="windows涉及所有协议及默认端口"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-26</div><div class="info-item-2">windows涉及所有协议及默认端口</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://jihulab.com/blxt/images/-/raw/main/ico/head.jpg" onerror='this.onerror=null,this.src="https://jihulab.com/blxt/images/-/raw/main/ico/friend_404.gif"' alt="avatar"></div><div class="author-info-name">避凉闲庭</div><div class="author-info-description">一起学习，天天向上</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">48</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" href="https://blxtcloud.github.io/message/"><i class="fa-solid fa-message"></i><span>给我留言吧</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://blxtcloud.github.io" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:kuiyajia@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2405571304&amp;site=qq&amp;menu=yes" target="_blank" title="QQ号码:2405571304"><i class="fa-brands fa-qq" style="color:#74c0fc"></i></a><a class="social-icon" href="https://blxtcloud.github.io/atom.xml" target="_blank" title="RSS订阅"><i class="fas fa-rss" style="color:#0e6be9"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">博主正在努力学习中,你也跟我一起来学习吧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%A4%A7%E5%9E%8B%E5%88%86%E5%B8%83%E5%BC%8F%E7%BD%91%E7%AB%99%E6%9E%B6%E6%9E%84%E6%8A%80%E6%9C%AF"><span class="toc-number">1.</span> <span class="toc-text">一、大型分布式网站架构技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%A4%A7%E5%9E%8B%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">二、大型电商网站系统架构演变过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%B8%80%E5%BC%A0%E5%9B%BE%E8%AF%B4%E6%98%8E%E7%94%B5%E5%95%86%E6%9E%B6%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">三、一张图说明电商架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A4%A7%E5%9E%8B%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%9E%B6%E6%9E%84%E6%A1%88%E4%BE%8B"><span class="toc-number">4.</span> <span class="toc-text">四、大型电商网站架构案例</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/13/2025011319/" title="nginx location匹配及rewrite规则">nginx location匹配及rewrite规则</a><time datetime="2025-01-13T07:17:14.000Z" title="发表于 2025-01-13 15:17:14">2025-01-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/13/2025011318/" title="resin部署安装">resin部署安装</a><time datetime="2025-01-13T06:51:30.000Z" title="发表于 2025-01-13 14:51:30">2025-01-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/13/2025011317/" title="docker命令总结（一）">docker命令总结（一）</a><time datetime="2025-01-13T06:49:25.000Z" title="发表于 2025-01-13 14:49:25">2025-01-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/13/2025011316/" title="docker命令总结（二）">docker命令总结（二）</a><time datetime="2025-01-13T06:47:27.000Z" title="发表于 2025-01-13 14:47:27">2025-01-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/13/2025011315/" title="制作网页黑白背景">制作网页黑白背景</a><time datetime="2025-01-13T06:43:29.000Z" title="发表于 2025-01-13 14:43:29">2025-01-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By 避凉闲庭</div><div class="footer_custom_text"><span>欢迎来到避凉闲庭的博客，本博客主题采用</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="/js/chat-model-bottom.js"></script><script defer id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="避,凉,闲,庭" data-fontsize="15px" data-random="false" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="python" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>